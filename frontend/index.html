<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="api-base" content="http://localhost:8000/api/v1">
        <title>JustStreamIt</title>
        <link rel="preload" href="assets/fonts/oswald-variablefont_wght-webfont.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="stylesheet" href="assets/styles/css/global.css">
    </head>

    <body>
    <!-- Logo and H1 tag -->
    <header class="site-wrap container-fluid site-header py-3" role="banner">
      <div class="d-flex align-items-center
                  justify-content-center justify-content-md-start
                  gap-2 gap-md-5 ps-3 ps-md-4">
        <img id="logo" class="mx-3" src="assets/img/logo.png" alt="JustStreamIt" width="127" height="94">
        <h1 class="brand-title m-0 d-none d-md-block">Vidéos à la demande</h1>
      </div>
    </header>

    <main class="site-wrap container-fluid my-4" role="main">

        <!-- Meilleur Film Section / Best Film Section -->
        <section id="best-film" class="mb-5" aria-labelledby="best-heading">
          <h2 id="best-heading" class="section-title my-4 my-lg-5">Meilleur film</h2>

          <article class="best-block p-3 p-md-4 mt-3">
              <div class="row best-grid gx-0 align-items-stretch">
                <!-- 12 / 5 / 4 -->
                <div class="col-12 col-md-4 ">
                  <figure class="poster-box m-0 h-100">
                    <img id="best-img" class="d-block w-100 h-100" src="" alt="" loading="eager" referrerpolicy="no-referrer">
                  </figure>
                </div>

                <!-- 12 / 6 / 7  => sums to 11 at md+lg -->
                <div class="col-12 col-md-7  best-textcol d-flex flex-column">
                  <h3 id="best-title" class="best-title my-2"></h3>
                  <p  id="best-desc"  class="best-desc text-muted mb-3"></p>

                  <div class="best-cta text-center text-lg-end">
                    <button
                            class="jsi-btn jsi-btn--primary"
                            id="best-details-btn"
                            type="button"
                            aria-haspopup="dialog"
                            aria-controls="movieModal"
                            aria-label="Afficher les détails">
                      Détails
                    </button>
                  </div>
                </div>
              </div>
            </article>
        </section>

        <!-- Films les mieux notés (genres mélangés) / Best rated films -->
        <section>
            <h2 class="section-title">Films les mieux notés</h2>
            <div class="card-grid-wrapper">
                <div class="film-card">
                    <img class="best-ranked-film">
                        <!-- Insert image for retrieved film with the highest rank w/ votes here -->
                        <!-- Grid layout:
                            - Desktop: 3 cols x 2 rows
                            - Tablet: 2 cols x 2 rows
                            - Mobile: 1 col x 2 rows
                         -->
                    </img>
                </div>

                <div class="overlay-modal">
                    <!-- 60% black opacity, white text -->
                    <h3 class="overlay-heading">
                        <!-- Film title, white text, size: 24px,   -->
                    </h3>

                    <button class="jsi-btn jsi-btn--dark" type="button"
                            aria-label="Afficher les détails">
                      Détails
                    </button>

                </div>

                 <button class="jsi-btn jsi-btn--toggle" type="button"
                        aria-controls="top-rated-grid" aria-expanded="false">
                  Voir plus
                </button>
            </div>
        </section>

        <!-- Films - Genre 1 (Mystery) & no dropdown -->
        <section>
            <h2 class="section-title">Mystery</h2>
            <div class="card-grid-wrapper">
                <div class="film-card">
                    <image>
                        <!-- Insert image for retrieved film with the highest rank w/ votes here -->
                        <!-- Grid layout: same as above-->
                    </image>
                </div>

                <div class="overlay-modal">
                    <!-- 60% black opacity, white text -->
                    <h3 class="overlay-heading">
                        <!-- Film title, white text, size: 24px,   -->
                    </h3>

                    <button class="jsi-btn jsi-btn--dark" type="button"
                            aria-label="Afficher les détails">
                      Détails
                    </button>
                </div>

                <button class="jsi-btn jsi-btn--toggle" type="button"
                        aria-controls="top-rated-grid" aria-expanded="false">
                  Voir plus
                </button>
            </div>
        </section>

        <!-- Films - Genre 2 (Action) & no dropdown -->
        <section>
            <h2 class="section-title">Action:</h2>
            <div class="card-grid-wrapper">
                <div class="film-card">
                    <image>
                        <!-- Insert image for retrieved film with the highest rank w/ votes here -->
                        <!-- Grid layout: same as above-->
                    </image>
                </div>

                <div class="overlay-modal">
                    <!-- 60% black opacity, white text -->
                    <h3 class="overlay-heading">
                        <!-- Film title, white text, size: 24px,   -->
                    </h3>

                    <button class="jsi-btn jsi-btn--dark" type="button"
                            aria-label="Afficher les détails">
                      Détails
                    </button>
                </div>

                 <button class="jsi-btn jsi-btn--toggle" type="button"
                        aria-controls="top-rated-grid" aria-expanded="false">
                  Voir plus
                </button>
            </div>
        </section>

        <!-- Films - Sorting Frame by Category with dropdown -->
        <section>
            <h2 class="section-title">Autres:</h2>

            <!-- Dropdown menu to the right of H2, showing list of genre options -->
            <div class="dropdown-menu">
                <ul class="genres-list">
                    <li class="genre-option"><!--Option 1 --></li>
                </ul>
            </div>

            <div class="card-grid-wrapper">
                <div class="film-card">
                    <image>
                        <!-- Insert image for retrieved film with the highest rank w/ votes here -->
                        <!-- Grid layout: same as above-->
                    </image>
                </div>

                <div class="overlay-modal">
                    <!-- 60% black opacity, white text -->
                    <h3 class="overlay-heading">
                        <!-- Film title, white text, size: 24px,   -->
                    </h3>

                    <button class="jsi-btn jsi-btn--dark" type="button"
                            aria-label="Afficher les détails">
                      Détails
                    </button>
                </div>

                <button class="jsi-btn jsi-btn--toggle" type="button"
                        aria-controls="top-rated-grid" aria-expanded="false">
                  Voir plus
                </button>
            </div>
        </section>
    </main>

    <!-- Movie details modal (Bootstrap) -->
    <div class="modal fade" id="movieModal" tabindex="-1" aria-labelledby="movieModalTitle" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content jsi-modal">
          <div class="modal-body">
            <!-- Top block: text left / poster right (CSS Grid, no .row/.gx) -->
            <div class="modal-hero">
              <!-- Text column -->
              <div class="text-col d-flex flex-column">
                <h3 id="movieModalTitle" class="best-title mb-3"></h3>

                <div class="film-meta">
                  <p id="mm-year-genres" class="bold-film-detail mb-1"></p>
                  <p id="mm-rated-runtime" class="bold-film-detail mb-1"></p>
                  <p class="bold-film-detail mb-1">
                    <span class="label">IMDB score:&nbsp;</span><span id="mm-imdb"></span>
                  </p>
                  <p class="bold-film-detail mb-1">
                    <span class="label">Recettes au box-office:&nbsp;</span>
                      <span id="mm-boxoffice"></span>
                  </p>
                </div>

                <div class="directors-block pt-3">
                  <p class="directors-label mb-1">Réalisé par:</p>
                  <p id="mm-directors" class="director-names mb-0"></p>
                </div>

                <!-- MOBILE/TABLET-ONLY summary (between meta+directors and the poster) -->
                <div class="modal-summary-inline d-lg-none">
                  <p id="mm-summary-inline" class="mb-0"></p>
                </div>
              </div>

              <!-- Poster column -->
              <div class="poster-col">
                <figure class="poster-box m-0 h-100">
                  <img id="mm-poster" class="d-block w-100 h-100" alt="" referrerpolicy="no-referrer">
                </figure>
              </div>
            </div>

            <!-- DESKTOP summary (full width, shows >= lg) -->
            <div class="modal-summary d-none d-lg-block">
              <p id="mm-summary" class="mb-0"></p>
            </div>

            <!-- Cast -->
            <div class="modal-cast">
              <p class="actors-label mb-1">Avec:</p>
              <p id="mm-actors" class="actors-list mb-0"></p>
            </div>
          </div>

          <div class="modal-footer justify-content-center">
            <button type="button" class="jsi-btn jsi-btn--toggle" data-bs-dismiss="modal" aria-label="Fermer la fenêtre modale">
              Fermer
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- 3rd-party runtime (UMD: exposes window.bootstrap and includes Popper) -->
    <script src="assets/js/vendor/bootstrap.bundle.min.js"></script>
    <!-- App bootstrap: renders “Meilleur film” block -->
    <script type="module" src="assets/js/app.js"></script>
    </body>
</html>